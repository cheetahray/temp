{
  "openapi": "3.0.0",
  "servers": [
    {
      "url": "http://localhost"
    }
  ],
  "info": {
    "description": "1.1.0 <br/>\n新增 /user/{accountId}/password 變更密碼 <br/>\n新增 /user/{accountId}/contact 變更聯絡人資訊 <br/>\n修改 /maintenance/org/{orgId} 更新組織租約 <br/>\n暫時移除 /maintenance/org/{orgId}/vdc/{vdcId} 刪除 vdc <br/>\n暫時移除 /maintenance/org/{orgId}/vdc 抓取所有 vdc 資訊 <br/>\n<br/>\n1.0.9 <br/>\n修改 /usage/list/snapshot 以每小時為單位查詢快照數量。將 tenantId, timeStamp 移出 element <br/>\n修改 /usage/list/vm 以每天為單位查詢max vm數量。將 tenantId, timeStamp 移出 element <br/>\n修改 /usage/list/disk 以每小時為單位查詢使用的儲存空間。將 tenantId, timeStamp 移出 element <br/>\n修改 /usage/list/poweron 以每日為單位查詢vm開機時數。將 tenantId, timeStamp 移出 element <br/>\n<br/>\n1.0.8 <br/>\n新增 /user/tenant/{provisionId} 帳號申裝 (進件status查詢) <br/>\n新增 /maintenance/tenant/{tenantId} 客戶帳號狀態變更查詢 <br/>\n新增 /usage/exception/log metrics exception log <br/>\n<br/>\n1.0.7 <br/>\n暫時移除 /user/org 個別新增組織 <br/>\n暫時移除 /user/tier-0s 新增 T0 <br/>\n暫時移除 /usr/org/{orgId}/account 新增使用者 <br/>\n暫時移除 /user/org/{orgId}/rights/{accid} 使用者權限<br/>\n暫時移除 /notify/message/usages/{accountId} 發送 metrics 失敗通知 <br/>\n<br/>\n1.0.6 <br/>\n/usr/org/{orgId}/vdc request body 新增 vdcGroup:boolean 欄位 <br/>\n/usr/org/{orgId}/vdc/{vdcId}/edge request body 新增 vdcGroup:String 欄位\n<br/>\n/usr/org/{orgId}/vdc/{vdcId}/edge/{edgeId}/network request body 新增 vdcGroup:boolean 欄位\n<br/>\n<br/>\n1.0.5 <br/>\nT0 api 第一版 <br/>\n<br/>\n1.0.4 <br/>\n所有 Authorization 的 header name 全改成 token <br/> \n <br/>\n1.0.3 <br/>\n增加 /notify/user/tenant 通知 api for 非同步 /user/tenant <br/> \n增加 /notify/maintenance/user/{accountId} for 非同步 /maintenance/org/{accountId}/status/{status}\n<br/>\n增加 /notify/message/usages/{accountId} 如果 metric 抓取失敗\n <br/>\n <br/>\n1.0.2 <br/> \n把 bps 改成 burstsize, 貼近 nsx-t 的原意 <br/>\n<br/>",
    "version": "1.1.0",
    "title": "中華 Api",
    "contact": {
      "email": "rayshih@sysage.com.tw"
    },
    "license": {
      "name": "Sysage"
    }
  },
  "tags": [
    {
      "name": "maintenance"
    },
    {
      "name": "notify"
    },
    {
      "name": "session"
    },
    {
      "name": "usage"
    },
    {
      "name": "user"
    }
  ],
  "paths": {
    "/user/org/{orgId}/vdc": {
      "post": {
        "summary": "新增組織 Virtual Data Center",
        "tags": [
          "user"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/taskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "user:0000",
                        "message": "建立vdc成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      },
                      "info": {
                        "code": "user:0800",
                        "message": "vdc建立失敗",
                        "exception": {
                          "message": "vdc建立失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  重複進件！此件已於 2021-05-06 12:14:55 成功進過\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "createvdc",
        "description": "1.  cpu 換算成2GHz<br/>\n設定CPU resources guaranteed:固定為 0%<br/>\n2.  設定Memory resources guaranteed:固定為 0%<br/>\n   cpu = 1VM數<br/>\n3.  RPP包裝增加SSD儲存空間，RPG包裝增加SAS儲存空間，從 storeage policy 去分",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/quota"
              },
              "examples": {
                "vdc": {
                  "value": {
                    "id": "kubernetes",
                    "providerId": "pVDC-DEV",
                    "resources": [
                      {
                        "type": "allocation",
                        "model": "ALLOCATIONVAPP"
                      },
                      {
                        "type": "cpu",
                        "limit": 2
                      },
                      {
                        "type": "vm",
                        "limit": 10
                      },
                      {
                        "type": "network",
                        "limit": 100,
                        "networkPoolId": "NP-Overlay"
                      },
                      {
                        "type": "disk",
                        "limit": 1024,
                        "storageId": "vSAN Default Storage Policy"
                      },
                      {
                        "type": "memory",
                        "limit": 8192
                      },
                      {
                        "type": "vcpu",
                        "limit": 2
                      }
                    ]
                  }
                }
              }
            }
          },
          "description": ""
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織名稱, 完整 URL 中的唯一識別碼，使用者用以登入此組織。只能使用英(小寫)數字元或下列其中一項: '-' '_' '.' '(' ')' ',' '$'"
        }
      ]
    },
    "/maintenance/org/{orgId}": {
      "put": {
        "summary": "更新組織租約",
        "tags": [
          "maintenance"
        ],
        "operationId": "updateorg",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/info"
                },
                "examples": {
                  "Success": {
                    "value": {
                      "code": "maintenance:0000",
                      "message": "更新租約成功",
                      "success": true
                    }
                  },
                  "Fail": {
                    "value": {
                      "code": "maintenance:1000",
                      "message": "更新租約失敗",
                      "success": false
                    }
                  }
                }
              }
            },
            "description": ""
          }
        },
        "description": "設定 lease time",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/tenant"
              },
              "examples": {
                "Tenant": {
                  "value": {
                    "vAppRuntimeLease": 0,
                    "vAppStorageLease": 0,
                    "vAppTemplateLease": 0
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織"
        }
      ]
    },
    "/maintenance/org/{orgId}/status/{status}": {
      "put": {
        "summary": "客戶退租狀態/帳號變更查詢",
        "tags": [
          "maintenance"
        ],
        "operationId": "updateOrgStatus",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/taskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      },
                      "info": {
                        "code": "maintenance:0000",
                        "message": "更新狀態成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      },
                      "info": {
                        "code": "maintenance:0500",
                        "message": "更新狀態失敗",
                        "exception": {
                          "message": " 更新狀態失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  更新狀態失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description": "1. 此 api 乃非同步",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string",
            "enum": [
              "id_enable",
              "id_disable",
              "delete"
            ]
          },
          "name": "status",
          "in": "path",
          "required": true,
          "description": "狀態有 id_enable id_disable delete"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織"
        }
      ]
    },
    "/user/org/{orgId}/vdc/{vdcId}/edge/{edgeId}/network": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織名稱"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "edgeId",
          "in": "path",
          "required": true,
          "description": "edge名稱"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "vdcId",
          "in": "path",
          "required": true,
          "description": "vdc名稱"
        }
      ],
      "post": {
        "summary": "新增組織 vdc 網路",
        "tags": [
          "user"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/taskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "user:0000",
                        "message": "組織network建立成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      },
                      "info": {
                        "code": "user:0400",
                        "message": "組織 network 建立失敗",
                        "exception": {
                          "message": "組織 network 建立失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  組織 network 建立失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "addVdcNetwork",
        "description": "1. vcd portal 已經沒有是否使用 edge dns 的 checkbox boolean 欄位，若不填 vdc network 的 dns, 是否會直接用 edge 的 dns 未來要測試過 <br/>\n2. vcd portal 已經沒有設定 vdc network 在組織vdc內可以共享的 boolean 欄位，若要共享網路，在 vcd 10.2 nsx-t 的結構之下只能使用 vdc group, vdc group 遇到技術問題還在測試中",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/vdcNet"
              },
              "examples": {
                "vdc network": {
                  "value": {
                    "id": "kubernetes",
                    "gatewayCidr": "192.168.1.250/24",
                    "staticIpPools": [
                      "192.168.1.1 - 192.168.1.149"
                    ],
                    "defaultEdgeDns": true
                  }
                }
              }
            }
          },
          "description": ""
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token",
            "required": true
          }
        ]
      }
    },
    "/user/org/{orgId}/vdc/{vdcId}/edge": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織名稱"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "vdcId",
          "in": "path",
          "required": true,
          "description": "vdc名稱"
        }
      ],
      "post": {
        "summary": "新增 edge",
        "tags": [
          "user"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/taskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "user:0000",
                        "message": "建立edge成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "VCD"
                      },
                      "info": {
                        "code": "user:0300",
                        "message": "edge 建立失敗",
                        "exception": {
                          "message": "edge 建立失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  edge 建立失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "addEdge",
        "description": "1. vcd edge 是 T1, vcd 外部網路是 T0, vcd 不能設置 T0, T0 只能由 nsx-t 去設定<br/>\n2. 所以更新 T0 的 uplink 等同更新 vcd 外部網路的 uplink, 設定 vcd edge 的 uplink 等於是設置 T1 的uplink<br/>\n3. 所謂設定 esg 外部網路介面的 ip 是?<br/>\n4. vcd Api/UI 已經沒有 configure default gateway checkbox/設定, 原則上 vcd edge/T1 已經是 底下的 org network 的 gateway<br/>\n5. vcd Api/UI 已經沒有 Use default gateway for DNS Relay checkbox/設定, \n要設 edge dns, 經由另一個新的 vcd10.2 openapi",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/edge"
              },
              "examples": {
                "edge": {
                  "value": {
                    "id": "kubernetes",
                    "publicNetworkId": "EN-External",
                    "resources": [
                      {
                        "type": "static",
                        "ipAddress": "10.9.57.101"
                      },
                      {
                        "type": "addressPool",
                        "pools": [
                          "10.9.57.102 - 10.9.57.103"
                        ]
                      },
                      {
                        "type": "qos",
                        "limitSettings": [
                          {
                            "id": "RayTryIn",
                            "type": "inbound",
                            "bandwidth": 1,
                            "burstsize": 1
                          },
                          {
                            "id": "RayTryOut",
                            "type": "outbound",
                            "bandwidth": 1,
                            "burstsize": 1
                          }
                        ]
                      },
                      {
                        "type": "dns",
                        "defaultForwarderZone": {
                          "active": true,
                          "displayName": "RayTryDns",
                          "upstreamServers": [
                            "10.9.57.31"
                          ]
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token",
            "required": true
          }
        ]
      }
    },
    "/maintenance/org/{orgId}/vdc/{vdcId}/edge/{edgeId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織名稱"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "vdcId",
          "in": "path",
          "required": true,
          "description": "vdc名稱"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "edgeId",
          "in": "path",
          "required": true,
          "description": "edge名稱"
        }
      ],
      "put": {
        "summary": "加購 Public IP / 加購網路頻寬",
        "tags": [
          "maintenance"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/taskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "maintenance:0000",
                        "message": "加購成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      },
                      "info": {
                        "code": "maintenance:0200",
                        "message": "加購失敗",
                        "exception": {
                          "message": "加購失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  加購失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "updateEdge",
        "description": "1. vcd edge 是 T1, vcd 外部網路是 T0, vcd 不能設置 T0, T0 只能由 nsx-t 去設定<br/>\n2. 所以更新 T0 的 uplink 等同更新 vcd 外部網路的 uplink, 設定 vcd edge 的 uplink 等於是設置 T1 的uplink",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/resource_edge_addressPool"
                  },
                  {
                    "$ref": "#/components/schemas/resource_edge_qos"
                  }
                ],
                "description": "設置子配置IP集區 / 設定速率限制"
              },
              "examples": {
                "加購頻寬": {
                  "value": {
                    "type": "qos",
                    "limitSettings": [
                      {
                        "id": "RayTryIn",
                        "type": "inbound",
                        "bandwidth": 2,
                        "burstsize": 2
                      },
                      {
                        "id": "RayTryOut",
                        "type": "outbound",
                        "bandwidth": 2,
                        "burstsize": 2
                      }
                    ]
                  }
                },
                "加購 IP": {
                  "value": {
                    "type": "addressPool",
                    "pools": [
                      "10.9.57.104 - 10.9.57.104"
                    ]
                  }
                }
              }
            }
          },
          "description": ""
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      }
    },
    "/usage/list": {
      "get": {
        "summary": "Metrics",
        "tags": [
          "usage"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/usage"
                      }
                    }
                  }
                },
                "examples": {
                  "VM_Info": {
                    "value": {
                      "resourceType": "VM_Info",
                      "statistics": [
                        {
                          "tenantId": "admin@jimmytest0624.com",
                          "vmId": "antony-test-0308",
                          "info": {
                            "vCore": 1,
                            "vRam": 2048,
                            "vDisk": [
                              {
                                "diskName": "Hard disk 1",
                                "storagePolicyName": "VCD-StoragePolicy",
                                "isIndependent": false,
                                "quantity": 16
                              }
                            ],
                            "os": "CentOS 7 (64-bit)",
                            "status": "ON"
                          },
                          "ipList": [
                            "172.16.10.11"
                          ],
                          "timestamp": 1616550300000,
                          "timeString": "2021-03-24 09:45:00"
                        }
                      ]
                    }
                  },
                  "Unused_disks": {
                    "value": {
                      "resourceType": "Unused_disks",
                      "unit": "GB",
                      "statistics": [
                        {
                          "tenantId": "jimmytest0624.com",
                          "disks": [
                            {
                              "diskName": "jimmy0624-disk1",
                              "storagePolicyName": "VCD-StoragePolicy",
                              "isIndependent": true,
                              "quantity": 0.029296875
                            }
                          ],
                          "timestamp": 1616550300000,
                          "timeString": "2021-03-24 09:45:00"
                        }
                      ]
                    }
                  },
                  "Snapshots": {
                    "value": {
                      "resourceType": "Snapshots",
                      "unit": "GB",
                      "statistics": [
                        {
                          "tenantId": "jimmytest0624.com",
                          "vmId": "antony-vm-1203",
                          "quantity": 40,
                          "timestamp": 1616550300000,
                          "timeString": "2021-03-24 09:45:00"
                        }
                      ]
                    }
                  },
                  "Network": {
                    "value": {
                      "resourceType": "Network",
                      "unit": "bytes",
                      "statistics": [
                        {
                          "tenantId": "admin@jimmytest0624.com",
                          "edgeId": "gateway:RayEdge",
                          "quantity": 298898.646336,
                          "usages": [
                            {
                              "index": "0",
                              "ipAddress": "192.168.30.37"
                            }
                          ],
                          "timestamp": 1616550300000,
                          "timeString": "2021-03-24 09:45:00"
                        }
                      ]
                    }
                  },
                  "LoadBalance_Info": {
                    "value": {
                      "resourceType": "LoadBalance_Info",
                      "statistics": [
                        {
                          "tenantId": "admin@jimmytest0624.com",
                          "ipList": [
                            "192.168.0.2",
                            "192.168.0.6"
                          ],
                          "timestamp": 1616550300000,
                          "timeString": "2021-03-24 09:45:00",
                          "name": "vip-1@jimmytest0624-com-EDGE"
                        }
                      ]
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:9999",
                        "message": "抓取 Metrics 失敗",
                        "exception": {
                          "message": "抓取 Metrics 失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  帳號查詢失敗 \n\tat com.sysage.twm.user.model.task.TaskUtil.setTask抓取 Metrics 失敗til.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "usageMetrics",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "VM_Info",
                "Unused_Disks",
                "Snapshots",
                "Network",
                "LoadBalance"
              ]
            },
            "in": "query",
            "name": "resourceType",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "tenantId",
            "description": "組織名稱",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "vdcId",
            "description": "組織vdc名稱"
          },
          {
            "schema": {
              "type": "string",
              "example": "1616550300000"
            },
            "in": "query",
            "name": "startTime",
            "description": "13位 timestamp",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "example": "1616550300000"
            },
            "in": "query",
            "name": "endTime",
            "description": "13位 timestamp",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "example": "每個 Api 均要帶入 token"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token",
            "required": true
          }
        ],
        "description": ""
      }
    },
    "/usage/list/snapshot": {
      "get": {
        "summary": "以每小時為單位查詢快照數量",
        "tags": [
          "usage"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/customerMetrics"
                      }
                    }
                  }
                },
                "examples": {
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:9999",
                        "message": "抓取snapshot區間失敗",
                        "exception": {
                          "message": "抓取snapshot區間失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  帳號查詢失敗 \n\tat com.sysage.twm.user.model.task.TaskUtil.setTask"
                        },
                        "success": false
                      }
                    }
                  },
                  "Success": {
                    "value": {
                      "info": {
                        "code": "usage:0000",
                        "message": "抓取 snapshot info 成功",
                        "success": true
                      },
                      "data": [
                        {
                          "tenantId": "RayOrg",
                          "vdcId": "RayVdc",
                          "timestamp": 1619798400000,
                          "timeString": "2021-05-01 00:00:00",
                          "element": [
                            {
                              "vmId": "RayVmOne",
                              "quantity": 10
                            },
                            {
                              "vmId": "RayVmTwo",
                              "quantity": 20
                            }
                          ],
                          "count": 2
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getHourSnapshot",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "tenantId",
            "description": "組織名稱"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "vdcId",
            "description": "vdc名稱"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "startTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "example": "每個 Api 均要帶入 token"
            },
            "in": "header",
            "name": "token",
            "description": "Token",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "endTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "HR",
                "FIVE",
                "DAY"
              ]
            },
            "in": "query",
            "name": "frequency",
            "description": "取樣單位，不填 HR"
          }
        ],
        "description": ""
      }
    },
    "/usage/list/disk": {
      "get": {
        "summary": "以每小時為單位查詢使用的儲存空間",
        "tags": [
          "usage"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/customerMetrics"
                      }
                    }
                  }
                },
                "examples": {
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:9999",
                        "message": "抓取snapshot區間失敗",
                        "exception": {
                          "message": "抓取snapshot區間失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  帳號查詢失敗 \n\tat com.sysage.twm.user.model.task.TaskUtil.setTask"
                        },
                        "success": false
                      }
                    }
                  },
                  "Success": {
                    "value": {
                      "info": {
                        "code": "usage:0000",
                        "message": "抓取 disk info 成功",
                        "success": true
                      },
                      "data": [
                        {
                          "id": "RayVdc",
                          "element": [
                            {
                              "diskName": "jimmy0624-disk1",
                              "storageId": "VCD-StoragePolicy",
                              "isIndependent": true,
                              "quantity": 0.029296875
                            },
                            {
                              "diskName": "jimmy0624-disk2",
                              "storageId": "VCD-StoragePolicy",
                              "isIndependent": true,
                              "quantity": 0.029296875
                            }
                          ],
                          "sum": 0.05
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getHourDisk",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "tenantId",
            "description": "組織名稱"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "vdcId",
            "description": "vdc名稱"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "startTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "endTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "HR",
                "FIVE",
                "DAY"
              ]
            },
            "in": "query",
            "name": "frequency",
            "description": "取樣單位，不填 HR"
          }
        ],
        "description": ""
      }
    },
    "/usage/list/vm": {
      "get": {
        "summary": "以每天為單位查詢每日max vm數量",
        "tags": [
          "usage"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/customerMetrics"
                      }
                    }
                  }
                },
                "examples": {
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:9999",
                        "message": "抓取開機時間失敗",
                        "exception": {
                          "message": "抓取開機時間失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  帳號查詢失敗 \n\tat com.sysage.twm.user.model.task.TaskUtil.setTask"
                        },
                        "success": false
                      }
                    }
                  },
                  "Success": {
                    "value": {
                      "info": {
                        "code": "usage:0000",
                        "message": "擷取 vm info 成功",
                        "success": true
                      },
                      "data": [
                        {
                          "tenantId": "ray@test.com.tw",
                          "timestamp": 1565604000000,
                          "timeString": "2019-08-12 18:00:00.000",
                          "vdcId": "RayVdc",
                          "element": [
                            {
                              "vmId": "vApp-01",
                              "info": {
                                "vCore": 19.5,
                                "vRam": 4096,
                                "vDisk": [
                                  {
                                    "diskName": "jimmy0624-disk1",
                                    "storageId": "VCD-StoragePolicy",
                                    "isIndependent": true,
                                    "quantity": 0.029296875
                                  }
                                ],
                                "os": "CentOS 7 (64-bit)",
                                "status": true
                              }
                            }
                          ],
                          "count": 1
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "openVmDay",
        "description": "",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "startTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "tenantId",
            "description": "組織名稱"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "vdcId",
            "description": "組織vdc名稱"
          },
          {
            "schema": {
              "type": "string",
              "example": "每個 Api 均要帶入 token"
            },
            "in": "header",
            "name": "token",
            "description": "Token",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "endTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "HR",
                "DAY",
                "FIVE"
              ]
            },
            "in": "query",
            "name": "frequency",
            "description": "單位區間，不填預設 DAY",
            "required": true
          }
        ]
      }
    },
    "/usage/list/poweron": {
      "get": {
        "summary": "以每日為單位查詢vm開機時數",
        "tags": [
          "usage"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/customerMetrics"
                      }
                    }
                  }
                },
                "examples": {
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:9999",
                        "message": "抓取開機時間失敗",
                        "exception": {
                          "message": "抓取開機時間失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  帳號查詢失敗 \n\tat com.sysage.twm.user.model.task.TaskUtil.setTask"
                        },
                        "success": false
                      }
                    }
                  },
                  "Success": {
                    "value": {
                      "info": {
                        "code": "usage:0000",
                        "message": "擷取 vm info 成功",
                        "success": true
                      },
                      "data": [
                        {
                          "vdcId": "RayVdc",
                          "element": [
                            {
                              "tenantId": "ray@test.com.tw",
                              "timestamp": 1565604000000,
                              "timeString": "2019-08-12 18:00:00.000",
                              "vmId": "vApp-01",
                              "info": {
                                "vCore": 19.5,
                                "vRam": 4096,
                                "vDisk": [
                                  {
                                    "diskName": "jimmy0624-disk1",
                                    "storageId": "VCD-StoragePolicy",
                                    "isIndependent": true,
                                    "quantity": 0.029296875
                                  }
                                ],
                                "os": "CentOS 7 (64-bit)",
                                "status": true
                              },
                              "ipList": [
                                "172.16.10.11"
                              ]
                            }
                          ],
                          "sum": 1440
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "openPowerOnDay",
        "description": "",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "startTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "tenantId",
            "description": "組織名稱"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "vdcId",
            "description": "組織vdc名稱"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "endTime",
            "description": "13位timestamp, 程式自動 mod 月開始時間",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "HR",
                "DAY",
                "FIVE"
              ]
            },
            "in": "query",
            "name": "frequency",
            "description": "單位區間，不填預設 DAY",
            "required": true
          }
        ]
      }
    },
    "/maintenance/org/{orgId}/vdc/{vdcId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織名稱"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "vdcId",
          "in": "path",
          "required": true,
          "description": "vdc名稱"
        }
      ],
      "put": {
        "summary": "VDC 加購",
        "tags": [
          "maintenance"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/taskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "maintenance:0000",
                        "message": "更新vdc成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      },
                      "info": {
                        "code": "user:0800",
                        "message": "vdc更新失敗",
                        "exception": {
                          "message": "vdc更新失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  重複進件！此件已於 2021-05-06 12:14:55 成功進過\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "updatevdc",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/quota"
              },
              "examples": {
                "VDC": {
                  "value": {
                    "resources": [
                      {
                        "type": "cpu",
                        "limit": 2
                      },
                      {
                        "type": "vm",
                        "limit": 10
                      },
                      {
                        "type": "network",
                        "limit": 100,
                        "networkPoolId": "NP-Overlay"
                      },
                      {
                        "type": "disk",
                        "limit": 30000,
                        "storageId": ""
                      },
                      {
                        "type": "memory",
                        "limit": 8192
                      },
                      {
                        "type": "vcpu",
                        "limit": 2
                      }
                    ]
                  }
                }
              }
            }
          },
          "description": ""
        },
        "description": "VDC 加購",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token "
          }
        ]
      },
      "get": {
        "summary": "抓取 vdc 資訊",
        "operationId": "getSingleVdcInfo",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "$ref": "#/components/schemas/quota"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "maintenance:0000",
                        "message": "抓取 vdc 資訊成功",
                        "success": true
                      },
                      "data": {
                        "id": "kubernetes",
                        "providerId": "providerK8S",
                        "resources": [
                          {
                            "type": "cpu",
                            "limit": 1
                          },
                          {
                            "type": "memory",
                            "limit": 4096
                          },
                          {
                            "type": "disk",
                            "limit": 1024,
                            "storageId": "VCD-StoragePolicy"
                          },
                          {
                            "type": "vm",
                            "limit": 10
                          },
                          {
                            "type": "network",
                            "networkPoolId": "NP-OverLay",
                            "limit": 100
                          }
                        ]
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "maintenance:0700",
                        "message": "抓取組織 vdc 失敗",
                        "exception": {
                          "message": "抓取組織 vdc 失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  抓取組織 vdc 失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        },
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "maintenance"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      }
    },
    "/session/signin": {
      "post": {
        "summary": "Ap Server Session 登入",
        "operationId": "sessionSignin",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "description": "準備用在 Api Authorization 的 Header"
                        }
                      }
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/Ray_TaskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "session:0000",
                        "message": "登入成功",
                        "success": true
                      },
                      "data": {
                        "token": "SDFSFGSEG$%$#VWTV123..."
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      },
                      "info": {
                        "code": "session:0900",
                        "message": "登入失敗",
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "object",
                    "required": [
                      "accountId",
                      "password"
                    ],
                    "properties": {
                      "accountId": {
                        "type": "string"
                      },
                      "password": {
                        "type": "string"
                      }
                    }
                  }
                },
                "required": [
                  "data"
                ]
              },
              "examples": {
                "SignIn": {
                  "value": {
                    "data": {
                      "accountId": "admin@vcpp.com.tw",
                      "password": "xxxx"
                    }
                  }
                }
              }
            }
          },
          "description": ""
        },
        "tags": [
          "session"
        ],
        "description": "",
        "parameters": []
      }
    },
    "/session/signout": {
      "delete": {
        "summary": "AP Server Session 登出",
        "tags": [
          "session"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "into": {
                        "code": "session:0000",
                        "message": "登出成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "session:0900",
                        "message": "登出失敗",
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "sessionSingout",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      }
    },
    "/session/account/{accountId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "accountId",
          "in": "path",
          "required": true,
          "description": "使用者@組織名稱"
        }
      ],
      "get": {
        "summary": "取得帳號資訊",
        "tags": [
          "session"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "$ref": "#/components/schemas/account"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "session:0000",
                        "message": "抓取組織成功",
                        "success": true
                      },
                      "data": {
                        "id": "admin",
                        "active": true,
                        "role": "vApp User",
                        "contactName": "kubernetes",
                        "contactMail": "kubernetes@kubernetes.com",
                        "contactPhone": "1234567890"
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "session:0700",
                        "message": "抓取帳號失敗",
                        "success": false,
                        "exception": {
                          "message": "抓取帳號失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  抓取組織 vdc 失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getAccountInfo",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      }
    },
    "/session/org/{orgId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "orgId",
          "in": "path",
          "required": true,
          "description": "組織名稱"
        }
      ],
      "get": {
        "summary": "取得組織資訊",
        "tags": [
          "session"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "$ref": "#/components/schemas/tenant"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "session:0000",
                        "message": "抓取組織成功",
                        "success": true
                      },
                      "data": {
                        "id": "kubernetes",
                        "name": "kubernetes",
                        "description": "kubernetes",
                        "active": true,
                        "vAppRuntimeLease": 0,
                        "vAppStorageLease": 0,
                        "vAppTemplateLease": 0
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "session:0800",
                        "message": "抓取組織失敗",
                        "success": false,
                        "exception": {
                          "message": "抓取組織 vdc 失敗",
                          "stackTrace": "com.sysage.web.model.error.RestApiException:  抓取組織 vdc 失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getOrgInfo",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token ",
            "required": true
          }
        ]
      }
    },
    "/user/tenant": {
      "post": {
        "summary": "進件加一個綜合設定的 api",
        "operationId": "post-user-tenant",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "token",
            "description": "每個 Api 均要帶入 token"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "provisionId": {
                    "type": "string",
                    "description": "進件流水號"
                  },
                  "tenant": {
                    "$ref": "#/components/schemas/tenant"
                  },
                  "vdc": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "quota": {
                          "$ref": "#/components/schemas/quota"
                        },
                        "network": {
                          "$ref": "#/components/schemas/provisionNetwork"
                        }
                      }
                    }
                  }
                },
                "required": [
                  "provisionId"
                ]
              },
              "examples": {
                "Provision": {
                  "value": {
                    "provisionId": "sdfafda324235",
                    "tenant": {
                      "id": "vcpp.com.tw",
                      "name": "VCPP Org",
                      "description": "VCPP test tenant",
                      "active": true,
                      "vAppRuntimeLease": 0,
                      "vAppStorageLease": 0,
                      "vAppTemplateLease": 0,
                      "account": {
                        "id": "admin",
                        "active": true,
                        "role": "vApp User",
                        "contactName": "tester",
                        "contactMail": "tester@test.com.tw",
                        "contactPhone": "0987654321"
                      }
                    },
                    "vdc": [
                      {
                        "quota": {
                          "id": "kubernetes",
                          "providerId": "pVDC-DEV",
                          "resources": [
                            {
                              "type": "cpu",
                              "limit": 2
                            },
                            {
                              "type": "vm",
                              "limit": 10
                            },
                            {
                              "type": "network",
                              "limit": 100,
                              "networkPoolId": "NP-Overlay"
                            },
                            {
                              "type": "disk",
                              "limit": 30000,
                              "storageId": "Vcd-StoragePolicy"
                            },
                            {
                              "type": "memory",
                              "limit": 8192
                            },
                            {
                              "type": "vcpu",
                              "limit": 2
                            }
                          ]
                        },
                        "network": {
                          "edge": {
                            "id": "kubernetes",
                            "publicNetworkId": "EN-External",
                            "resources": [
                              {
                                "type": "static",
                                "ipAddress": "10.9.57.101"
                              },
                              {
                                "type": "addressPool",
                                "pools": [
                                  "10.9.57.102 - 10.9.57.102"
                                ]
                              },
                              {
                                "type": "qos",
                                "limitSettings": [
                                  {
                                    "id": "RayTryIn",
                                    "type": "inbound",
                                    "bandwidth": 1,
                                    "burstsize": 200
                                  },
                                  {
                                    "id": "RayTryOut",
                                    "type": "outbound",
                                    "bandwidth": 2,
                                    "burstsize": 100
                                  }
                                ]
                              },
                              {
                                "type": "dns",
                                "defaultForwarderZone": {
                                  "displayName": "RayTryDns",
                                  "upstreamServers": [
                                    "10.9.57.31"
                                  ]
                                }
                              }
                            ]
                          },
                          "vdcNet": {
                            "id": "RayVdcNetwork",
                            "gatewayCidr": "192.168.1.254/24",
                            "staticIpPools": [
                              "192.168.1.1 - 192.168.1.253"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "tags": [
          "user"
        ],
        "description": "1. 此 api 為非同步"
      }
    },
    "/user/tenant/{provisionId}": {
      "get": {
        "summary": "帳號申裝 [進件status查詢]",
        "operationId": "notify-user-tenant",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/taskInfo"
                      }
                    }
                  }
                },
                "examples": {
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:0999",
                        "message": "取得通知失敗",
                        "success": false
                      }
                    }
                  },
                  "Success": {
                    "value": {
                      "taskInfo": [
                        {
                          "message": "進件成功",
                          "code": "user:0000",
                          "createTime": "2021-07-11 22:24:57"
                        },
                        {
                          "taskId": "5410f53b-5501-426e-a18b-4b281ac819c8",
                          "message": "進件處理中",
                          "code": "user:0000",
                          "createTime": "2021-07-11 22:19:02"
                        },
                        {
                          "message": "進件失敗",
                          "code": "user:0999",
                          "createTime": "2021-07-11 22:15:25",
                          "cause": "進件失敗[ 3ccc935b-52e2-411a-b640-0401671140eb ] The provided metadata is not a valid SAML 2.0 metadata document."
                        },
                        {
                          "taskId": "a33d60a5-1d56-41aa-a73e-7e6d6c921603",
                          "message": "進件處理中",
                          "code": "user:0000",
                          "createTime": "2021-07-11 22:15:17"
                        }
                      ],
                      "info": {
                        "code": "user:0000",
                        "message": "進件成功",
                        "success": true
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [],
        "tags": [
          "user"
        ],
        "description": ""
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "provisionId",
          "in": "path",
          "description": "進件單號",
          "required": true
        }
      ]
    },
    "/maintenance/tenant/{tenantId}": {
      "get": {
        "summary": "客戶帳號狀態變更查詢",
        "operationId": "notify-maintenance-tenant",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/taskInfo"
                      }
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "taskInfo": [
                        {
                          "message": "進件成功",
                          "code": "user:0000",
                          "createTime": "2021-07-11 22:24:57"
                        },
                        {
                          "taskId": "5410f53b-5501-426e-a18b-4b281ac819c8",
                          "message": "進件處理中",
                          "code": "user:0000",
                          "createTime": "2021-07-11 22:19:02"
                        },
                        {
                          "message": "進件失敗",
                          "code": "user:0999",
                          "createTime": "2021-07-11 22:15:25",
                          "cause": "進件失敗[ 3ccc935b-52e2-411a-b640-0401671140eb ] The provided metadata is not a valid SAML 2.0 metadata document."
                        },
                        {
                          "taskId": "a33d60a5-1d56-41aa-a73e-7e6d6c921603",
                          "message": "進件處理中",
                          "code": "user:0000",
                          "createTime": "2021-07-11 22:15:17"
                        }
                      ],
                      "info": {
                        "code": "user:0000",
                        "message": "退租失敗",
                        "success": false
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "maintenance:0999",
                        "message": "更改狀態失敗",
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [],
        "tags": [
          "maintenance"
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string",
            "example": "admin@kubernetes"
          },
          "name": "tenantId",
          "in": "path",
          "required": true,
          "description": "使用者@組織"
        }
      ]
    },
    "/usage/exception/log": {
      "get": {
        "summary": "metrics exception log",
        "operationId": "usage-exception-log",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tenantId": {
                          "type": "string",
                          "description": "使用者@組織"
                        },
                        "vmId": {
                          "type": "string",
                          "description": "VM名稱"
                        },
                        "message": {
                          "type": "string"
                        },
                        "cause": {
                          "type": "string",
                          "description": "java exception stack"
                        },
                        "timeString": {
                          "type": "string"
                        },
                        "timestamp": {
                          "type": "string"
                        },
                        "userName": {
                          "type": "string",
                          "description": "使用者"
                        },
                        "orgName": {
                          "type": "string",
                          "description": "組織"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "usage:0040",
                        "message": "查詢失敗",
                        "success": false
                      }
                    }
                  },
                  "Success": {
                    "value": {
                      "info": {
                        "code": "usage:0000",
                        "message": "查詢成功",
                        "success": true
                      },
                      "data": {
                        "tenantId": "admin@kubernetes",
                        "vmId": "RayTryVM",
                        "message": "有錯誤",
                        "cause": "java.util.NullException",
                        "timeString": "2011-1-1 13:13:13",
                        "timestamp": "1626139571000",
                        "userName": "admin",
                        "orgName": "kubernetes"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string",
              "example": "1616550300000"
            },
            "in": "query",
            "name": "startTime",
            "description": "13位 timestamp",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "example": "1616550300000"
            },
            "in": "query",
            "name": "endTime",
            "description": "13位 timestamp",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "tenantId",
            "description": "組織"
          }
        ],
        "tags": [
          "usage"
        ]
      }
    },
    "/maintenance/user/{accountId}/usages": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "accountId",
          "in": "path",
          "required": true,
          "description": "使用者@組織名稱"
        }
      ],
      "delete": {
        "summary": "監控usage數據定期清理",
        "tags": [
          "maintenance"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/info"
                    },
                    "taskInfo": {
                      "$ref": "#/components/schemas/taskInfo"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "maintenance:0000",
                        "message": "刪除 usage 成功",
                        "success": true
                      },
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "maintenance:0500",
                        "message": "刪除 usage 失敗",
                        "success": false,
                        "exception": {
                          "message": "刪除 usage 失敗",
                          "url": "",
                          "stackTrace": "string"
                        }
                      },
                      "taskInfo": {
                        "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
                        "createTime": "2021-05-12 11:10:55",
                        "type": "AP"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "deleteUsages",
        "parameters": [
          {
            "schema": {
              "type": "integer"
            },
            "in": "query",
            "name": "startTime",
            "description": "13位時間戳"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "endTime",
            "description": "13位時間戳"
          }
        ]
      }
    },
    "/user/{accountId}/password": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "accountId",
          "in": "path",
          "required": true,
          "description": "使用者@組織"
        }
      ],
      "put": {
        "summary": "變更密碼",
        "tags": [
          "user"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/Ray_Info"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "user:0000",
                        "message": "密碼變更成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:0500",
                        "message": "密碼變更失敗",
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "put-user-accountId-password",
        "description": "",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "object",
                    "properties": {
                      "password": {
                        "type": "string",
                        "description": "密碼"
                      }
                    },
                    "required": [
                      "password"
                    ]
                  }
                }
              },
              "examples": {
                "password": {
                  "value": {
                    "data": {
                      "password": "1qaz@WSX"
                    }
                  }
                }
              }
            }
          },
          "description": ""
        }
      }
    },
    "/user/{accountId}/contact": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "accountId",
          "in": "path",
          "required": true,
          "description": "使用者@組織"
        }
      ],
      "put": {
        "summary": "變更聯絡人資訊",
        "tags": [
          "user"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "info": {
                      "$ref": "#/components/schemas/Ray_Info"
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "info": {
                        "code": "user:0000",
                        "message": "組織資訊變更成功",
                        "success": true
                      }
                    }
                  },
                  "Fail": {
                    "value": {
                      "info": {
                        "code": "user:0500",
                        "message": "組織資訊變更失敗",
                        "success": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "put-user-accountId-contact",
        "description": "",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "object",
                    "properties": {
                      "tenantName": {
                        "type": "string",
                        "description": "組織名稱"
                      },
                      "tenantDescription": {
                        "type": "string",
                        "description": "描述"
                      },
                      "contactName": {
                        "type": "string",
                        "description": "聯絡人名稱"
                      },
                      "contactMail": {
                        "type": "string",
                        "description": "email"
                      },
                      "contactPhone": {
                        "type": "string",
                        "description": "電話"
                      }
                    },
                    "required": [
                      "tenantName"
                    ]
                  }
                }
              },
              "examples": {
                "Contact": {
                  "value": {
                    "data": {
                      "tenantName": "VCPP Org",
                      "tenantDescription": "VCPP test tenant",
                      "contactName": "tester",
                      "contactMail": "tester@test.com.tw",
                      "contactPhone": "02-12345678"
                    }
                  }
                }
              }
            }
          },
          "description": ""
        }
      }
    }
  },
  "externalDocs": {
    "description": "See AsyncAPI example",
    "url": "https://mermade.github.io/shins/asyncapi.html"
  },
  "components": {
    "schemas": {
      "tenant": {
        "type": "object",
        "x-examples": {
          "Tenant": {
            "id": "vcpp.com.tw",
            "name": "VCPP Org",
            "description": "VCPP test tenant",
            "active": true,
            "vAppRuntimeLease": 0,
            "vAppStorageLease": 0,
            "vAppTemplateLease": 0,
            "account": {
              "id": "admin",
              "active": true,
              "role": "vApp User",
              "contactName": "tester",
              "contactMail": "tester@test.com.tw",
              "contactPhone": "0987654321"
            }
          }
        },
        "title": "組織",
        "description": "組織",
        "properties": {
          "id": {
            "type": "string",
            "description": "組織名稱"
          },
          "name": {
            "type": "string",
            "description": "組織全名"
          },
          "description": {
            "type": "string",
            "description": "說明"
          },
          "active": {
            "type": "boolean",
            "description": "啟用狀態"
          },
          "vAppRuntimeLease": {
            "type": "integer",
            "description": "vApp 執行階段租用上限"
          },
          "vAppStorageLease": {
            "type": "integer",
            "description": "vApp 儲存空間租用上限"
          },
          "vAppTemplateLease": {
            "type": "integer",
            "description": "vApp 範本儲存空間租用上限"
          },
          "account": {
            "$ref": "#/components/schemas/account"
          }
        }
      },
      "account": {
        "type": "object",
        "x-examples": {
          "Account": {
            "id": "admin",
            "active": true,
            "role": "vApp User",
            "contactName": "tester",
            "contactMail": "tester@test.com.tw",
            "contactPhone": "0901-234-567"
          }
        },
        "description": "編輯使用者",
        "title": "編輯使用者",
        "properties": {
          "id": {
            "type": "string",
            "description": "使用者名稱",
            "example": "admin"
          },
          "active": {
            "type": "boolean",
            "description": "啟用"
          },
          "role": {
            "type": "string",
            "description": "可用角色",
            "example": "vApp User"
          },
          "contactName": {
            "type": "string",
            "description": "全名"
          },
          "contactMail": {
            "type": "string",
            "description": "電子郵件地址"
          },
          "contactPhone": {
            "type": "string",
            "description": "電話號碼"
          }
        },
        "required": [
          "id",
          "active",
          "role"
        ]
      },
      "quota": {
        "title": "組織 VDC",
        "type": "object",
        "x-examples": {
          "Quota Example": {
            "id": "kubernetes",
            "providerId": "pVDC-DEV",
            "resources": [
              {},
              {
                "type": "cpu",
                "limit": 2
              },
              {
                "type": "vm",
                "limit": 10
              },
              {
                "type": "network",
                "limit": 100,
                "networkPoolId": "NP-Overlay"
              },
              {
                "type": "disk",
                "limit": 30000,
                "storageId": ""
              },
              {
                "type": "memory",
                "limit": 8192
              },
              {
                "type": "vcpu",
                "limit": 2
              }
            ]
          }
        },
        "description": "組織 VDC",
        "properties": {
          "id": {
            "type": "string",
            "description": "組織 VDC 名稱"
          },
          "providerId": {
            "type": "string",
            "description": "提供者 VDC 名稱"
          },
          "resources": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/resource_vdc_cpu"
                },
                {
                  "$ref": "#/components/schemas/resource_vdc_memory"
                },
                {
                  "$ref": "#/components/schemas/resource_vdc_vm"
                },
                {
                  "$ref": "#/components/schemas/resource_vdc_network"
                },
                {
                  "$ref": "#/components/schemas/resource_vdc_disk"
                },
                {
                  "$ref": "#/components/schemas/resource_vdc_vcpu"
                },
                {
                  "$ref": "#/components/schemas/resource_vdc_modelType"
                }
              ]
            }
          },
          "vdcGroup": {
            "type": "boolean",
            "description": "是否開放共用"
          }
        },
        "required": [
          "id",
          "providerId"
        ]
      },
      "resource_vdc_vm": {
        "title": "虛擬機器",
        "type": "object",
        "x-examples": {
          "vm": {
            "type": "vm",
            "limit": 10
          }
        },
        "description": "1 cpu = 1VM數",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "vm"
            ],
            "description": "vm型態"
          },
          "limit": {
            "type": "number",
            "description": "虛擬機器虛擬機器數目上限"
          }
        }
      },
      "resource_vdc_vcpu": {
        "title": "resources_vdc_vcpu",
        "type": "object",
        "x-examples": {
          "vcpu": {
            "type": "vcpu",
            "limit": 2
          }
        },
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "vcpu"
            ],
            "description": "vcpu 型態"
          },
          "limit": {
            "type": "number",
            "description": "進件時如果不填預設 2G"
          }
        },
        "description": ""
      },
      "resource_vdc_disk": {
        "title": "具名磁碟",
        "type": "object",
        "x-examples": {
          "disk": {
            "type": "disk",
            "limit": 1024,
            "storageId": "vSAN Default Storage Policy"
          }
        },
        "description": "具名磁碟",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "disk"
            ],
            "description": "具名磁碟"
          },
          "limit": {
            "type": "number",
            "description": "磁碟大小"
          },
          "storageId": {
            "type": "string",
            "description": "儲存區原則"
          }
        }
      },
      "resource_vdc_network": {
        "title": "網路集區",
        "type": "object",
        "x-examples": {
          "Network": {
            "type": "network",
            "limit": 10,
            "networkPoolId": "NP-Overlay"
          }
        },
        "description": "網路集區",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "network"
            ],
            "description": "型態"
          },
          "limit": {
            "type": "number",
            "description": "配額"
          },
          "networkPoolId": {
            "type": "string",
            "description": "網路集區名稱"
          }
        }
      },
      "resource_vdc_memory": {
        "title": "記憶體",
        "type": "object",
        "x-examples": {
          "memory": {
            "type": "memory",
            "limit": 4096
          }
        },
        "description": "記憶體",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "memory"
            ],
            "description": "記憶體"
          },
          "limit": {
            "type": "number",
            "description": "記憶體配額"
          }
        }
      },
      "resource_vdc_cpu": {
        "title": "CPU",
        "type": "object",
        "x-examples": {
          "cpu": {
            "type": "cpu",
            "limit": 2
          }
        },
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "cpu"
            ],
            "description": "CPU"
          },
          "limit": {
            "type": "number",
            "description": "CPU 配額"
          }
        },
        "description": "1 cpu 換算成2GHz"
      },
      "resource_vdc_modelType": {
        "title": "配置模型",
        "type": "object",
        "x-examples": {
          "modeltype": {
            "type": "allocation",
            "model": "ALLOCATIONVAPP"
          }
        },
        "description": "配置模型",
        "properties": {
          "type": {
            "type": "string",
            "description": "配置模型",
            "enum": [
              "allocation"
            ]
          },
          "model": {
            "type": "string",
            "description": "隨收隨付 配置集區 保留集區",
            "enum": [
              "ALLOCATIONVAPP",
              "ALLOCATIONPOOL",
              "RESERVATIONPOOL"
            ]
          }
        }
      },
      "vdcNet": {
        "title": "組織 VDC 網路",
        "type": "object",
        "x-examples": {
          "vdc network": {
            "id": "RayVdcNetwork",
            "gatewayCidr": "192.168.1.254/24",
            "staticIpPools": [
              "192.168.1.1 - 192.168.1.253"
            ]
          }
        },
        "description": "組織 VDC 網路 ",
        "properties": {
          "id": {
            "type": "string",
            "description": "名稱"
          },
          "gatewayCidr": {
            "type": "string",
            "pattern": "^([0-9]{1,3}\\.){3}[0-9]{1,3}(/([0-9]|[1-2][0-9]|3[0-2]))?$",
            "description": "閘道 CIDR"
          },
          "dns1": {
            "type": "string",
            "pattern": "^$|^(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}$",
            "description": "主要 DNS"
          },
          "dns2": {
            "type": "string",
            "pattern": "^$|^(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}$",
            "description": "次要 DNS"
          },
          "staticIpPools": {
            "type": "array",
            "description": "靜態 IP 集區",
            "items": {
              "type": "string"
            }
          },
          "vdcGroup": {
            "type": "boolean",
            "description": "指定跟 vdcGroup 綁定"
          }
        },
        "required": [
          "id",
          "gatewayCidr",
          "staticIpPools"
        ]
      },
      "edge": {
        "title": "Edge 閘道",
        "type": "object",
        "x-examples": {
          "edge": {
            "id": "kubernetes",
            "publicNetworkId": "EN-External",
            "resources": [
              {
                "type": "static",
                "ipAddress": "10.9.57.102"
              },
              {
                "type": "addressPool",
                "pools": [
                  "10.9.57.102 - 10.9.57.102"
                ]
              },
              {
                "type": "qos",
                "limitSettings": [
                  {
                    "id": "RayTryIn",
                    "type": "inbound",
                    "bandwidth": 1,
                    "burstsize": 200
                  },
                  {
                    "id": "RayTryOut",
                    "type": "outbound",
                    "bandwidth": 2,
                    "burstsize": 100
                  }
                ]
              },
              {
                "type": "dns",
                "defaultForwarderZone": {
                  "displayName": "RayTryDns",
                  "upstreamServers": [
                    "10.9.57.31"
                  ]
                }
              }
            ]
          }
        },
        "description": "Edge 閘道",
        "properties": {
          "id": {
            "type": "string",
            "description": "名稱"
          },
          "publicNetworkId": {
            "type": "string",
            "description": "外部網路"
          },
          "resources": {
            "type": "array",
            "description": "類型有 static addressPool qos dns",
            "items": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/resource_edge_addressPool"
                },
                {
                  "$ref": "#/components/schemas/resource_edge_qos"
                },
                {
                  "$ref": "#/components/schemas/resource_edge_dns"
                },
                {
                  "$ref": "#/components/schemas/resource_edge_static"
                }
              ]
            }
          },
          "vdcGroup": {
            "type": "string",
            "description": "將edge設置給 vdc group"
          }
        },
        "required": [
          "id",
          "publicNetworkId",
          "resources"
        ]
      },
      "resource_edge_dns": {
        "title": "resource_edge_dns",
        "type": "object",
        "x-examples": {
          "dns": {
            "type": "dns",
            "defaultForwarderZone": {
              "displayName": "RayTryDns",
              "upstreamServers": [
                "10.9.57.31"
              ]
            }
          }
        },
        "description": "",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "dns"
            ],
            "description": "DNS 型態"
          },
          "defaultForwarderZone": {
            "$ref": "#/components/schemas/dns"
          }
        }
      },
      "resource_edge_qos": {
        "title": "resource_edge_qos",
        "type": "object",
        "x-examples": {
          "qos": {
            "type": "qos",
            "limitSettings": [
              {
                "id": "RayTryIn",
                "type": "inbound",
                "bandwidth": 1,
                "burstsize": 200
              },
              {
                "id": "RayTryOut",
                "type": "outbound",
                "bandwidth": 2,
                "burstsize": 100
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "qos"
            ],
            "description": "設定速率限制"
          },
          "limitSettings": {
            "type": "array",
            "description": "設定 inbound 與 outbound limit",
            "items": {
              "$ref": "#/components/schemas/qos"
            }
          }
        }
      },
      "resource_edge_addressPool": {
        "title": "IP 管理",
        "type": "object",
        "x-examples": {
          "dynamic": {
            "type": "addressPool",
            "pools": [
              "10.9.57.102 - 10.9.57.102"
            ]
          }
        },
        "description": "IP 管理",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "addressPool"
            ],
            "description": "IP 配置"
          },
          "pools": {
            "type": "array",
            "description": "輸入 IP 範圍",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "resource_edge_static": {
        "title": "resource_edge_static",
        "type": "object",
        "x-examples": {
          "static": {
            "type": "static",
            "ipAddress": "10.9.57.102"
          }
        },
        "description": "",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "static"
            ],
            "description": "Primary IP"
          },
          "ipAddress": {
            "type": "string",
            "description": "static 專用，設在其他無效",
            "pattern": "^(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}$"
          }
        },
        "required": [
          "type",
          "ipAddress"
        ]
      },
      "qos": {
        "title": "閘道 QOS 設定檔",
        "type": "object",
        "description": "閘道 QOS 設定檔",
        "properties": {
          "id": {
            "type": "string",
            "description": "名稱"
          },
          "type": {
            "type": "string",
            "enum": [
              "inbound",
              "outbound"
            ],
            "description": "入口 QoS / 出口 QoS"
          },
          "bandwidth": {
            "type": "number",
            "description": "認可的頻寬 (Mbps)"
          },
          "burstsize": {
            "type": "integer",
            "description": "高載大小 (位元組)"
          }
        },
        "x-examples": {}
      },
      "info": {
        "title": "info",
        "type": "object",
        "x-examples": {
          "Success": {
            "code": "user:0000",
            "message": "進件成功",
            "success": true
          },
          "Fail": {
            "code": "user:0900",
            "message": "進件失敗 重複進件！此件已於 2021-05-06 12:14:55 成功進過",
            "success": false,
            "exception": {
              "message": "重複進件！此件已於 2021-05-06 12:14:55 成功進過",
              "url": null,
              "stackTrace": "string"
            }
          }
        },
        "properties": {
          "code": {
            "type": "string",
            "description": "成功/失敗代碼"
          },
          "message": {
            "type": "string",
            "description": "訊息內文"
          },
          "success": {
            "type": "boolean",
            "description": "是否成功"
          },
          "exception": {
            "$ref": "#/components/schemas/exception"
          }
        }
      },
      "statistic_unused_disk": {
        "title": "statistic_unused_disk",
        "type": "object",
        "x-examples": {
          "unused_disk": {
            "tenantId": "twmadmin@c2.com",
            "timestamp": 1580353200000,
            "timeString": "2020-01-30 11:00:00.000",
            "disks": [
              {
                "diskName": "disk1",
                "isIndependent": true,
                "quantity": 50,
                "storageId": "VCD-StoragePolicy"
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "tenantId": {
            "type": "string",
            "description": "使用者＠組織"
          },
          "timestamp": {
            "type": "integer",
            "description": "13為時間戳"
          },
          "timeString": {
            "type": "string",
            "description": "humanization time string, zoneId:+0800"
          },
          "disks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/vDisk"
            }
          }
        }
      },
      "statistic_network": {
        "title": "statistic_network",
        "type": "object",
        "x-examples": {
          "network": {
            "tenantId": "ray@test.com.tw",
            "timestamp": 1565776800000,
            "timeString": "2019-08-14 18:00:00.000",
            "quantity": 356.72,
            "edgeId": "string",
            "usages": [
              {
                "index": "0",
                "ipAddress": "10.9.57.102"
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "tenantId": {
            "type": "string",
            "description": "使用者＠組織名稱"
          },
          "timestamp": {
            "type": "integer",
            "description": "13為時間戳"
          },
          "timeString": {
            "type": "string",
            "description": "humanization time string, zoneId:+0800"
          },
          "quantity": {
            "type": "number",
            "description": "流量，單位 bytes"
          },
          "edgeId": {
            "type": "string",
            "description": "Edge Id"
          },
          "usages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ipUsages"
            }
          }
        }
      },
      "statistic_vminfo": {
        "title": "statistic_vminfo",
        "type": "object",
        "x-examples": {
          "VmInfo": {
            "tenantId": "ray@test.com.tw",
            "timestamp": 1565604000000,
            "timeString": "2019-08-12 18:00:00.000",
            "vmId": "ea3c250b-9b54-4e73-be68-83ce03f24aa4",
            "info": {
              "name": "vApp-01",
              "vCore": 19.5,
              "vRam": 4096,
              "vDisk": [
                {
                  "diskName": "jimmy0624-disk1",
                  "storagePolicyName": "VCD-StoragePolicy",
                  "isIndependent": true,
                  "quantity": 0.029296875
                }
              ],
              "os": "CentOS 7 (64-bit)",
              "status": true
            },
            "ipList": [
              "172.16.10.11"
            ]
          }
        },
        "description": "",
        "properties": {
          "tenantId": {
            "type": "string",
            "description": "使用者＠組織名稱"
          },
          "timestamp": {
            "type": "integer",
            "description": "13為時間戳"
          },
          "timeString": {
            "type": "string",
            "description": "humanization time string, zoneId:+0800"
          },
          "vmId": {
            "type": "string",
            "description": "virtual machine identity"
          },
          "info": {
            "$ref": "#/components/schemas/vmInfo"
          },
          "ipList": {
            "type": "array",
            "description": "vm 的 IP",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "statistic_loadBalance": {
        "title": "statistic_loadbalance",
        "type": "object",
        "x-examples": {
          "LoadBalance": {
            "tenantId": "ray@test.com.tw",
            "timestamp": 1565604000000,
            "timeString": "2019-08-12 18:00:00.000",
            "name": "internal_lb",
            "ipList": [
              "192.168.100.2",
              "192.168.100.3"
            ]
          }
        },
        "description": "",
        "properties": {
          "tenantId": {
            "type": "string",
            "description": "使用者@組織名稱"
          },
          "timestamp": {
            "type": "integer",
            "description": "13位時間戳"
          },
          "timeString": {
            "type": "string",
            "description": "humanization time string, zoneId:+0800"
          },
          "name": {
            "description": "loadbalance name",
            "type": "string"
          },
          "ipList": {
            "type": "array",
            "description": "vm 的 IP",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "statistic_snapshots_template": {
        "title": "statistic_snapshots",
        "type": "object",
        "x-examples": {
          "Snapshots": {
            "tenantId": "ray@test.com.tw",
            "timestamp": 1565604000000,
            "timeString": "2019-08-12 18:00:00.000",
            "vmId": "ea3c250b-9b54-4e73-be68-83ce03f24aa4",
            "quantity": 1000
          }
        },
        "description": "",
        "properties": {
          "tenantId": {
            "type": "string",
            "description": "使用者@組織名稱"
          },
          "timestamp": {
            "type": "integer",
            "description": "13位時間戳"
          },
          "timeString": {
            "type": "string",
            "description": "humanization time string, zoneId:+0800"
          },
          "vmId": {
            "type": "string"
          },
          "quantity": {
            "type": "number",
            "description": "snaphost大小，單位G"
          }
        }
      },
      "resource_snapshots": {
        "title": "usage_snapshot",
        "type": "object",
        "x-examples": {
          "SnapShots": {
            "resourceType": "Snapshots",
            "unit": "GB",
            "statistics": [
              {
                "tenantId": "ray@test.com.tw",
                "timestamp": 1565604000000,
                "timeString": "2019-08-12 18:00:00.000",
                "vmId": "ea3c250b-9b54-4e73-be68-83ce03f24aa4",
                "quantity": 1000
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "resourceType": {
            "type": "string",
            "enum": [
              "Snapshots"
            ],
            "description": "Snapshots型態"
          },
          "unit": {
            "type": "string",
            "enum": [
              "GB"
            ],
            "description": "GB"
          },
          "statistics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/statistic_snapshots_template"
            }
          }
        },
        "required": [
          "resourceType",
          "unit"
        ]
      },
      "resource_unused_disk": {
        "title": "usage_unused_disk",
        "type": "object",
        "x-examples": {
          "Unused_disks": {
            "resourceType": "Unused_disks",
            "unit": "GB",
            "statistics": [
              {
                "tenantId": "ray@test.com.tw",
                "timestamp": 1565604000000,
                "timeString": "2019-08-12 18:00:00.000",
                "disks": [
                  {
                    "diskName": "disk1",
                    "isIndependent": true,
                    "quantity": 50,
                    "storageId": "VCD-StoragePolicy"
                  }
                ]
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "resourceType": {
            "type": "string",
            "description": "Unused disk 型態",
            "enum": [
              "Unused_disks"
            ]
          },
          "unit": {
            "type": "string",
            "enum": [
              "GB"
            ],
            "description": "GB"
          },
          "statistics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/statistic_unused_disk"
            }
          }
        },
        "required": [
          "resourceType",
          "unit"
        ]
      },
      "resource_loadbalancer": {
        "title": "usage_loadbalancer",
        "type": "object",
        "x-examples": {
          "Load Balance": {
            "resourceType": "LoadBalance_Info",
            "statistics": [
              {
                "tenantId": "ray@test.com.tw",
                "timestamp": 1565604000000,
                "timeString": "2019-08-12 18:00:00.000",
                "name": "internal_lb",
                "ipList": [
                  "192.168.100.2",
                  "192.168.100.3"
                ]
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "resourceType": {
            "type": "string",
            "description": "Load Balance 型態",
            "enum": [
              "LoadBalance_Info"
            ]
          },
          "statistics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/statistic_loadBalance"
            }
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "resource_vappTemplate": {
        "title": "usage_vappTemplate",
        "type": "object",
        "x-examples": {
          "vAppTemplate": {
            "resourceType": "VM_Template",
            "unit": "GB",
            "statistics": [
              {
                "tenantId": "ray@test.com.tw",
                "timestamp": 1565604000000,
                "timeString": "2019-08-12 18:00:00.000",
                "vmId": "ea3c250b-9b54-4e73-be68-83ce03f24aa4",
                "quantity": 1000
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "resourceType": {
            "type": "string",
            "description": "vAppTemplate型態",
            "enum": [
              "VM_Template"
            ]
          },
          "unit": {
            "type": "string",
            "enum": [
              "GB"
            ],
            "description": "GB"
          },
          "statistics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/statistic_snapshots_template"
            }
          }
        },
        "required": [
          "resourceType",
          "unit"
        ]
      },
      "resource_network": {
        "title": "usage_network",
        "type": "object",
        "x-examples": {
          "Network": {
            "resourceType": "Network",
            "unit": "bytes",
            "statistics": [
              {
                "tenantId": "ray@test.com.tw",
                "timestamp": 1565776800000,
                "timeString": "2019-08-14 18:00:00.000",
                "quantity": 356.72,
                "edgeId": "string",
                "usages": [
                  {
                    "index": "0",
                    "ipAddress": "10.9.57.102"
                  }
                ]
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "resourceType": {
            "type": "string",
            "description": "Network 型態",
            "enum": [
              "Network"
            ]
          },
          "unit": {
            "type": "string",
            "description": "單位 bytes",
            "enum": [
              "bytes"
            ]
          },
          "statistics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/statistic_network"
            }
          }
        },
        "required": [
          "resourceType",
          "unit"
        ]
      },
      "resource_vminfo": {
        "title": "statistic_vmInfo",
        "type": "object",
        "x-examples": {
          "VM_Info": {
            "resourceType": "VM_Info",
            "statistics": [
              {
                "tenantId": "ray@test.com.tw",
                "timestamp": 1565604000000,
                "timeString": "2019-08-12 18:00:00.000",
                "vmId": "ea3c250b-9b54-4e73-be68-83ce03f24aa4",
                "info": {
                  "name": "vApp-01",
                  "vCore": 19.5,
                  "vRam": 4096,
                  "vDisk": [
                    {
                      "diskName": "jimmy0624-disk1",
                      "isIndependent": true,
                      "quantity": 0.029296875,
                      "storageId": "VCD-StoragePolicy"
                    }
                  ],
                  "os": "CentOS 7 (64-bit)",
                  "status": true
                },
                "ipList": [
                  "172.16.10.11"
                ]
              }
            ]
          }
        },
        "description": "",
        "properties": {
          "resourceType": {
            "type": "string",
            "description": "Snapshots型態",
            "enum": [
              "VM_Info"
            ]
          },
          "statistics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/statistic_vminfo"
            }
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "vDisk": {
        "title": "vDisk",
        "type": "object",
        "x-examples": {
          "vDisk": {
            "diskName": "jimmy0624-disk1",
            "storagePolicyName": "VCD-StoragePolicy",
            "isIndependent": false,
            "quantity": 0.029296875
          }
        },
        "properties": {
          "diskName": {
            "type": "string"
          },
          "isIndependent": {
            "type": "boolean",
            "description": "是否是獨立硬碟"
          },
          "quantity": {
            "type": "number",
            "description": "單位GB"
          },
          "storageId": {
            "type": "string",
            "description": "Storage Policy Name"
          }
        },
        "required": [
          "diskName",
          "isIndependent",
          "quantity",
          "storageId"
        ]
      },
      "vmInfo": {
        "title": "vmInfo",
        "type": "object",
        "x-examples": {
          "vmInfo": {
            "vCore": 1,
            "vRam": 2048,
            "vDisk": [
              {
                "diskName": "Hard disk 1",
                "storagePolicyName": "VCD-StoragePolicy",
                "isIndependent": false,
                "quantity": 16
              }
            ],
            "os": "CentOS 7 (64-bit)",
            "status": true
          }
        },
        "description": "",
        "properties": {
          "vCore": {
            "type": "number",
            "description": "cpu usage, unit: core"
          },
          "vRam": {
            "type": "number",
            "description": "memory size usage, unit: MB"
          },
          "vDisk": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/vDisk"
            }
          },
          "os": {
            "type": "string",
            "description": "os name"
          },
          "status": {
            "type": "boolean",
            "description": "vm of power status"
          }
        },
        "required": [
          "vCore",
          "vRam",
          "os",
          "status"
        ]
      },
      "exception": {
        "title": "exception",
        "type": "object",
        "x-examples": {
          "Exception": {
            "message": "重複進件！此件已於 2021-05-06 12:14:55 成功進過",
            "url": "/user",
            "stackTrace": "java.net.UnknownHostException..."
          }
        },
        "properties": {
          "message": {
            "type": "string",
            "description": "Exception 內文"
          },
          "url": {
            "type": "string"
          },
          "stackTrace": {
            "type": "string",
            "description": "Java exception stack"
          }
        },
        "required": [
          "message",
          "stackTrace"
        ]
      },
      "taskInfo": {
        "title": "taskInfo",
        "type": "object",
        "x-examples": {
          "Success": {
            "taskInfo": {
              "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
              "createTime": "2021-05-12 11:10:55",
              "type": "AP",
              "info": {
                "code": "maintenance:0000",
                "message": "加購成功",
                "success": true
              }
            }
          },
          "Fail": {
            "taskInfo": {
              "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
              "createTime": "2021-05-12 11:10:55",
              "type": "AP",
              "info": {
                "code": "maintenance:0200",
                "message": "加購失敗",
                "exception": {
                  "message": "加購失敗",
                  "stackTrace": "com.sysage.web.model.error.RestApiException:  加購失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                },
                "success": false
              }
            }
          }
        },
        "description": "",
        "properties": {
          "taskId": {
            "type": "string",
            "description": "Api task UUID"
          },
          "createTime": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "AP",
              "VCD"
            ],
            "description": "若有Exception從AP來還是從VCD來"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "rights": {
        "title": "rights",
        "type": "array",
        "x-examples": {
          "rights": [
            {
              "name": "General",
              "type": "READ",
              "rights": [
                {
                  "name": "檢視組織網路",
                  "type": "READ",
                  "rights": []
                }
              ]
            }
          ]
        },
        "description": "權限表",
        "items": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "READ",
                "MODIFY"
              ],
              "description": "兩個型態 唯讀 與 修改"
            },
            "rights": {
              "$ref": "#/components/schemas/rights"
            }
          },
          "required": [
            "name",
            "type",
            "rights"
          ]
        }
      },
      "dns": {
        "title": "編輯 DNS",
        "type": "object",
        "x-examples": {
          "dns": {
            "displayName": "RayTryDns",
            "upstreamServers": [
              "10.9.57.31"
            ]
          }
        },
        "properties": {
          "displayName": {
            "type": "string",
            "description": "名稱"
          },
          "upstreamServers": {
            "type": "array",
            "description": "上游伺服器",
            "items": {
              "type": "string"
            }
          },
          "active": {
            "type": "boolean",
            "description": "狀態"
          }
        },
        "description": "編輯 DNS"
      },
      "usage": {
        "title": "resource_usage",
        "x-examples": {
          "VM_Info": {
            "resourceType": "VM_Info",
            "statistics": [
              {
                "tenantId": "admin@jimmytest0624.com",
                "vmId": "antony-vm-1203",
                "info": {
                  "vCore": 1,
                  "vRam": 2048,
                  "vDisk": [
                    {
                      "diskName": "Hard disk 1",
                      "storagePolicyName": "VCD-StoragePolicy",
                      "isIndependent": false,
                      "quantity": 16
                    }
                  ],
                  "os": "CentOS 7 (64-bit)",
                  "status": "ON"
                },
                "ipList": [
                  "172.16.10.11"
                ],
                "timestamp": 1616550300000,
                "timeString": "2021-03-24 09:45:00"
              }
            ]
          },
          "Unused_disks": {
            "resourceType": "Unused_disks",
            "unit": "GB",
            "statistics": [
              {
                "tenantId": "jimmytest0624.com",
                "disks": [
                  {
                    "diskName": "jimmy0624-disk1",
                    "storagePolicyName": "VCD-StoragePolicy",
                    "isIndependent": true,
                    "quantity": 0.029296875
                  }
                ],
                "timestamp": 1616550300000,
                "timeString": "2021-03-24 09:45:00"
              }
            ]
          },
          "Snapshots": {
            "resourceType": "Snapshots",
            "unit": "GB",
            "statistics": [
              {
                "tenantId": "jimmytest0624.com",
                "vmId": "antony-vm-12035",
                "quantity": 40,
                "timestamp": 1616550300000,
                "timeString": "2021-03-24 09:45:00"
              }
            ]
          },
          "Network": {
            "resourceType": "Network",
            "unit": "bytes",
            "statistics": [
              {
                "tenantId": "admin@jimmytest0624.com",
                "edgeId": "gateway:b03f80d1-4108-41ac-b6a2-6e2bcfeebb29",
                "quantity": 298898.646336,
                "usages": [
                  {
                    "id": "0",
                    "ipAddress": "192.168.30.37"
                  }
                ],
                "timestamp": 1616550300000,
                "timeString": "2021-03-24 09:45:00"
              }
            ]
          },
          "LoadBalance": {
            "resourceType": "LoadBalance_Info",
            "statistics": [
              {
                "tenantId": "admin@jimmytest0624.com",
                "ipList": [
                  "192.168.0.2",
                  "192.168.0.6"
                ],
                "timestamp": 1616550300000,
                "timeString": "2021-03-24 09:45:00",
                "name": "vip-1@jimmytest0624-com-EDGE"
              }
            ]
          },
          "vAppTemplate": {
            "resourceType": "VM_Template",
            "unit": "GB",
            "statistics": [
              {
                "tenantId": "jimmytest0624.com",
                "vmId": "antony-vm-1203",
                "quantity": 40,
                "timestamp": 1616550300000,
                "timeString": "2021-03-24 09:45:00"
              }
            ]
          }
        },
        "anyOf": [
          {
            "$ref": "#/components/schemas/resource_snapshots"
          },
          {
            "$ref": "#/components/schemas/resource_vappTemplate"
          },
          {
            "$ref": "#/components/schemas/resource_network"
          },
          {
            "$ref": "#/components/schemas/resource_vminfo"
          },
          {
            "$ref": "#/components/schemas/resource_loadbalancer"
          },
          {
            "$ref": "#/components/schemas/resource_unused_disk"
          }
        ]
      },
      "ipUsages": {
        "title": "ipUsages",
        "type": "object",
        "x-examples": {
          "ipUsage": {
            "index": "0",
            "ipAddress": "192.168.30.37"
          }
        },
        "properties": {
          "index": {
            "type": "string",
            "description": "Public Ip 序號，順序為 Primary Secondary(區間) EdgeDefault "
          },
          "ipAddress": {
            "type": "string"
          }
        },
        "required": [
          "index",
          "ipAddress"
        ]
      },
      "provisionNetwork": {
        "title": "provisionNetwork",
        "type": "object",
        "properties": {
          "edge": {
            "$ref": "#/components/schemas/edge"
          },
          "vdcNet": {
            "$ref": "#/components/schemas/vdcNet"
          }
        },
        "x-examples": {}
      },
      "customerMetrics": {
        "title": "customizedMetrics",
        "type": "object",
        "description": "客製化 Metrics",
        "x-examples": {
          "customer": {
            "value": {
              "quantity": 0,
              "unit": "HR",
              "tenantId": "kubernetes",
              "vdcId": "RayTryVdc",
              "timestamp": 1626566400000,
              "timeString": "2021-07-18T08:00:00+08:00",
              "element": [
                {
                  "vmId": "RayTryVM3",
                  "info": {
                    "name": "RayTryVM3",
                    "vCore": 4,
                    "vRam": 8192,
                    "vDisk": [
                      {
                        "diskId": "2000",
                        "diskName": "Hard disk 1",
                        "storagePolicyName": "vSAN Default Storage Policy",
                        "isIndependent": false,
                        "quantity": 150
                      }
                    ],
                    "os": "CentOS 7 (64-bit)",
                    "status": "OFF"
                  }
                }
              ]
            }
          }
        },
        "properties": {
          "tenantId": {
            "type": "string",
            "description": "組織"
          },
          "vdcId": {
            "type": "string",
            "description": "組織 vdc"
          },
          "timestamp": {
            "type": "integer",
            "description": "13位 timestamp, 整點 or 午夜零時"
          },
          "timeString": {
            "type": "string",
            "description": "YYYY-MM-dd HH:MM:SSS.ZZZ 整點 / 午夜零時"
          },
          "count": {
            "type": "integer",
            "description": "個數"
          },
          "quantity": {
            "type": "number",
            "description": "容量"
          },
          "unit": {
            "type": "string",
            "description": "單位",
            "enum": [
              "HR",
              "GB"
            ]
          },
          "element": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/customerElement"
            }
          }
        }
      },
      "customerElement": {
        "title": "customerElement",
        "type": "object",
        "properties": {
          "vmId": {
            "type": "string",
            "description": "VM 名稱"
          },
          "quantity": {
            "type": "number",
            "description": "容量"
          },
          "info": {
            "$ref": "#/components/schemas/vmInfo"
          }
        }
      },
      "Ray_Exception": {
        "title": "exception",
        "type": "object",
        "x-examples": {
          "Exception": {
            "message": "重複進件！此件已於 2021-05-06 12:14:55 成功進過",
            "url": "/user",
            "stackTrace": "java.net.UnknownHostException..."
          }
        },
        "properties": {
          "message": {
            "type": "string",
            "description": "Exception 內文"
          },
          "url": {
            "type": "string"
          },
          "stackTrace": {
            "type": "string",
            "description": "Java exception stack"
          }
        },
        "required": [
          "message",
          "stackTrace"
        ]
      },
      "Ray_Info": {
        "title": "info",
        "type": "object",
        "x-examples": {
          "Success": {
            "code": "user:0000",
            "message": "進件成功",
            "success": true
          },
          "Fail": {
            "code": "user:0900",
            "message": "進件失敗 重複進件！此件已於 2021-05-06 12:14:55 成功進過",
            "success": false,
            "exception": {
              "message": "重複進件！此件已於 2021-05-06 12:14:55 成功進過",
              "url": null,
              "stackTrace": "string"
            }
          }
        },
        "properties": {
          "code": {
            "type": "string",
            "description": "成功/失敗代碼"
          },
          "message": {
            "type": "string",
            "description": "訊息內文"
          },
          "success": {
            "type": "boolean",
            "description": "是否成功"
          },
          "exception": {
            "$ref": "#/components/schemas/Ray_Exception"
          }
        }
      },
      "Ray_TaskInfo": {
        "title": "taskInfo",
        "type": "object",
        "x-examples": {
          "Success": {
            "taskInfo": {
              "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
              "createTime": "2021-05-12 11:10:55",
              "type": "AP",
              "info": {
                "code": "maintenance:0000",
                "message": "加購成功",
                "success": true
              }
            }
          },
          "Fail": {
            "taskInfo": {
              "taskId": "c84c37c2-2d3e-4f5d-b592-7d35e6c7121a",
              "createTime": "2021-05-12 11:10:55",
              "type": "AP",
              "info": {
                "code": "maintenance:0200",
                "message": "加購失敗",
                "exception": {
                  "message": "加購失敗",
                  "stackTrace": "com.sysage.web.model.error.RestApiException:  加購失敗\n\tat com.sysage.twm.user.model.task.TaskUtil.setTaskInfo(TaskUtil.java:25)"
                },
                "success": false
              }
            }
          }
        },
        "description": "",
        "properties": {
          "taskId": {
            "type": "string",
            "description": "Api task UUID"
          },
          "createTime": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "AP",
              "VCD"
            ],
            "description": "若有Exception從AP來還是從VCD來"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {},
    "links": {},
    "callbacks": {},
    "parameters": {}
  },
  "security": [
    {
      "Authorization": []
    }
  ]
}